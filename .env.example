# =============================================================================
# FUSE MONOREPO - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# This file is used across all apps in the monorepo

# =============================================================================
# GENERAL
# =============================================================================
NODE_ENV=development
PORT=3001

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# For local development with Aptible tunnel:
# Run: aptible db:tunnel patient-api-staging-postgresql --port 5433
# Then use: postgresql://username:password@localhost:5433/database_name
DATABASE_URL=postgresql://username:password@localhost:5432/fuse_db

# =============================================================================
# AUTHENTICATION & SESSION
# =============================================================================
# JWT Secret - Used for JWT token signing
JWT_SECRET=your-jwt-secret-key-change-in-production

# Session Secret - Used for express-session
SESSION_SECRET=your-super-secure-session-secret-change-in-production

# =============================================================================
# STRIPE PAYMENT INTEGRATION
# =============================================================================
# Stripe Secret Key (Backend)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe Publishable Key (Frontend - must start with NEXT_PUBLIC_)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Subscription Product & Price IDs
STRIPE_SUBSCRIPTION_PRODUCT=prod_your_product_id
STRIPE_SUBSCRIPTION_PRICE=price_your_price_id

# =============================================================================
# AWS S3 CONFIGURATION
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_PUBLIC_BUCKET=your-bucket-name

# =============================================================================
# SENDGRID EMAIL SERVICE
# =============================================================================
SENDGRID_API_KEY=SG.your_sendgrid_api_key

# =============================================================================
# PHARMACY API INTEGRATION
# =============================================================================
PHARMACY_API_KEY=AAAAAAAA-BBBB-CCCC-DDDD-EEEEEEEEEEEE
PHARMACY_CLINIC_ID=your-clinic-id

# =============================================================================
# MD INTEGRATIONS
# =============================================================================
MD_INTEGRATIONS_CLIENT_ID=your_md_integrations_client_id
MD_INTEGRATIONS_CLIENT_SECRET=your_md_integrations_client_secret

# =============================================================================
# FRONTEND URLs (must start with NEXT_PUBLIC_ for Next.js apps)
# =============================================================================
# Patient Frontend URL (used by API for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# Admin Frontend Base URL
NEXT_PUBLIC_BASE_URL=http://localhost:3002

# API URL for Frontend Apps
NEXT_PUBLIC_API_URL=http://localhost:3001

# =============================================================================
# WEBHOOK AUTHENTICATION
# =============================================================================
# Secret for securing internal webhooks between services
APP_WEBHOOK_SECRET=your-app-webhook-secret

# =============================================================================
# TLS/SSL (Production)
# =============================================================================
# Set to '0' to disable TLS certificate verification (development only)
# NODE_TLS_REJECT_UNAUTHORIZED=0

# =============================================================================
# E2E TESTING (Playwright)
# =============================================================================
# Admin Portal (fuse-admin-frontend) - Port 3002
E2E_ADMIN_EMAIL=admin@example.com
E2E_ADMIN_PASSWORD=test-password

# Patient Portal (patient-frontend) - Port 3000
E2E_PATIENT_EMAIL=patient@example.com
E2E_PATIENT_PASSWORD=test-password

# Tenant Portal (fuse-tenant-portal-frontend) - Port 3030
E2E_TENANT_EMAIL=tenant@example.com
E2E_TENANT_PASSWORD=test-password

# Doctor Portal (fuse-doctor-portal-frontend) - Port 3003
E2E_DOCTOR_EMAIL=doctor@example.com
E2E_DOCTOR_PASSWORD=test-password

# Affiliate Portal (fuse-affiliate-portal-frontend) - Port 3005
E2E_AFFILIATE_EMAIL=affiliate@example.com
E2E_AFFILIATE_PASSWORD=test-password

# Optional: Override service URLs for testing deployed environments
# E2E_ADMIN_APP_URL=https://admin.example.com          # fuse-admin-frontend
# E2E_PATIENT_APP_URL=https://app.example.com          # patient-frontend
# E2E_TENANT_APP_URL=https://tenant.example.com        # fuse-tenant-portal-frontend
# E2E_DOCTOR_APP_URL=https://doctor.example.com        # fuse-doctor-portal-frontend
# E2E_AFFILIATE_APP_URL=https://affiliate.example.com  # fuse-affiliate-portal-frontend
# E2E_API_URL=https://api.example.com                  # patient-api

# =============================================================================
# NOTES:
# =============================================================================
# - Never commit .env.local or any file with real credentials to git
# - In production, set these via your hosting platform (Aptible, Vercel, etc.)
# - Frontend environment variables MUST start with NEXT_PUBLIC_ to be accessible
# - Update this file when adding new environment variables to any app